{"version":3,"file":"table_helper.min.js","sources":["../src/table_helper.js"],"sourcesContent":["// Define variables to track sorting direction and icons.\nlet sortingDirection = [];\nlet iconElements = [];\n\nexport const tableHelperInit = (tableId, sortColumnNumber, filterInputId = null) => {\n    // Get the target table.\n    let targetTable = document.getElementById(tableId);\n\n    // Add event listeners to filter input.\n    if (filterInputId) {\n        let filterInput = document.getElementById(filterInputId);\n        filterInput.addEventListener(\"keyup\", function() {\n            filterTable(filterInput, targetTable);\n        });\n    }\n\n    // Add event listeners to table headers.\n    for (let i = 0; i < sortColumnNumber; i++) {\n        let header = targetTable.rows[0].cells[i];\n        iconElements.push(header.firstElementChild);\n        header.addEventListener(\"click\", function() {\n            sortTable(targetTable, i);\n        });\n    }\n};\n\n/**\n * Sort a table.\n *\n * @param {HTMLElement} targetTable\n * @param {int} columnIndex\n */\nfunction sortTable(targetTable, columnIndex) {\n    let rows, switching, i, x, y, shouldSwitch;\n    switching = true;\n\n    // Get the icon element for the current column.\n    let iconElement = targetTable.rows[0].cells[columnIndex].firstElementChild;\n\n    // Reset sorting direction and icons for all columns.\n    for (let i = 0; i < sortingDirection.length; i++) {\n        if (i !== columnIndex) {\n            sortingDirection[i] = undefined;\n            iconElements[i].className = \"fas fa-sort\";\n        }\n    }\n\n    // Toggle sorting direction and update icon.\n    if (sortingDirection[columnIndex] === undefined || sortingDirection[columnIndex] === \"desc\") {\n        sortingDirection[columnIndex] = \"asc\";\n        iconElement.className = \"fas fa-sort-up\";\n    } else {\n        sortingDirection[columnIndex] = \"desc\";\n        iconElement.className = \"fas fa-sort-down\";\n    }\n\n    while (switching) {\n        switching = false;\n        rows = targetTable.rows;\n\n        for (i = 1; i < rows.length - 1; i++) {\n            shouldSwitch = false;\n            x = rows[i].getElementsByTagName(\"td\")[columnIndex];\n            y = rows[i + 1].getElementsByTagName(\"td\")[columnIndex];\n\n            let xText = x.textContent || x.innerText;\n            let yText = y.textContent || y.innerText;\n\n            // Compare based on sorting direction.\n            if ((sortingDirection[columnIndex] === \"asc\" && xText.toLowerCase() > yText.toLowerCase()) ||\n                (sortingDirection[columnIndex] === \"desc\" && xText.toLowerCase() < yText.toLowerCase())) {\n                shouldSwitch = true;\n                break;\n            }\n        }\n\n        if (shouldSwitch) {\n            rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n            switching = true;\n        }\n    }\n}\n\n/**\n * Filter a table.\n *\n * @param {HTMLElement} filterInput\n * @param {HTMLElement} targetTable\n */\nfunction filterTable(filterInput, targetTable) {\n    let filter, tr, td, i, j, txtValue;\n    filter = filterInput.value.toUpperCase();\n\n    tr = targetTable.getElementsByTagName(\"tr\");\n    let hasMatchingRow = false;\n\n    // Loop through all rows in the table.\n    for (i = 1; i < tr.length; i++) {\n        let found = false;\n        td = tr[i].getElementsByTagName(\"td\");\n\n        // Loop through all columns in a row.\n        for (j = 0; j < td.length; j++) {\n            txtValue = td[j].textContent || td[j].innerText;\n            if (txtValue.toUpperCase().indexOf(filter) > -1) {\n                found = true;\n                break; // If a match is found in any column, no need to check other columns.\n            }\n        }\n\n        // Display the row if a match is found, otherwise hide it.\n        if (found) {\n            tr[i].style.display = \"\";\n            hasMatchingRow = true;\n        } else {\n            tr[i].style.display = \"none\";\n        }\n    }\n\n    // Show or hide the \"No matching rows found\" message.\n    let noMatchingRowsMessage = document.getElementById(\"noMatchingRowsMessage\");\n    if (!hasMatchingRow) {\n        noMatchingRowsMessage.style.display = \"block\";\n    } else {\n        noMatchingRowsMessage.style.display = \"none\";\n    }\n}\n"],"names":["sortingDirection","iconElements","sortTable","targetTable","columnIndex","rows","switching","i","x","y","shouldSwitch","iconElement","cells","firstElementChild","length","undefined","className","getElementsByTagName","xText","textContent","innerText","yText","toLowerCase","parentNode","insertBefore","filterTable","filterInput","filter","tr","td","j","txtValue","value","toUpperCase","hasMatchingRow","found","indexOf","style","display","noMatchingRowsMessage","document","getElementById","tableId","sortColumnNumber","filterInputId","addEventListener","header","push"],"mappings":"sKACIA,iBAAmB,GACnBC,aAAe,YA8BVC,UAAUC,YAAaC,iBACxBC,KAAMC,UAAWC,EAAGC,EAAGC,EAAGC,aAC9BJ,WAAY,MAGRK,YAAcR,YAAYE,KAAK,GAAGO,MAAMR,aAAaS,sBAGpD,IAAIN,EAAI,EAAGA,EAAIP,iBAAiBc,OAAQP,IACrCA,IAAMH,cACNJ,iBAAiBO,QAAKQ,EACtBd,aAAaM,GAAGS,UAAY,wBAKED,IAAlCf,iBAAiBI,cAAgE,SAAlCJ,iBAAiBI,cAChEJ,iBAAiBI,aAAe,MAChCO,YAAYK,UAAY,mBAExBhB,iBAAiBI,aAAe,OAChCO,YAAYK,UAAY,oBAGrBV,WAAW,KACdA,WAAY,EACZD,KAAOF,YAAYE,KAEdE,EAAI,EAAGA,EAAIF,KAAKS,OAAS,EAAGP,IAAK,CAClCG,cAAe,EACfF,EAAIH,KAAKE,GAAGU,qBAAqB,MAAMb,aACvCK,EAAIJ,KAAKE,EAAI,GAAGU,qBAAqB,MAAMb,iBAEvCc,MAAQV,EAAEW,aAAeX,EAAEY,UAC3BC,MAAQZ,EAAEU,aAAeV,EAAEW,aAGQ,QAAlCpB,iBAAiBI,cAA0Bc,MAAMI,cAAgBD,MAAMC,eACrC,SAAlCtB,iBAAiBI,cAA2Bc,MAAMI,cAAgBD,MAAMC,cAAgB,CACzFZ,cAAe,SAKnBA,eACAL,KAAKE,GAAGgB,WAAWC,aAAanB,KAAKE,EAAI,GAAIF,KAAKE,IAClDD,WAAY,aAWfmB,YAAYC,YAAavB,iBAC1BwB,OAAQC,GAAIC,GAAItB,EAAGuB,EAAGC,SAC1BJ,OAASD,YAAYM,MAAMC,cAE3BL,GAAKzB,YAAYc,qBAAqB,UAClCiB,gBAAiB,MAGhB3B,EAAI,EAAGA,EAAIqB,GAAGd,OAAQP,IAAK,KACxB4B,OAAQ,MACZN,GAAKD,GAAGrB,GAAGU,qBAAqB,MAG3Ba,EAAI,EAAGA,EAAID,GAAGf,OAAQgB,OACvBC,SAAWF,GAAGC,GAAGX,aAAeU,GAAGC,GAAGV,UAClCW,SAASE,cAAcG,QAAQT,SAAW,EAAG,CAC7CQ,OAAQ,QAMZA,OACAP,GAAGrB,GAAG8B,MAAMC,QAAU,GACtBJ,gBAAiB,GAEjBN,GAAGrB,GAAG8B,MAAMC,QAAU,WAK1BC,sBAAwBC,SAASC,eAAe,yBAIhDF,sBAAsBF,MAAMC,QAH3BJ,eAGqC,OAFA,iCAtHf,SAACQ,QAASC,sBAAkBC,qEAAgB,KAEnEzC,YAAcqC,SAASC,eAAeC,YAGtCE,cAAe,KACXlB,YAAcc,SAASC,eAAeG,eAC1ClB,YAAYmB,iBAAiB,SAAS,WAClCpB,YAAYC,YAAavB,oBAK5B,IAAII,EAAI,EAAGA,EAAIoC,iBAAkBpC,IAAK,KACnCuC,OAAS3C,YAAYE,KAAK,GAAGO,MAAML,GACvCN,aAAa8C,KAAKD,OAAOjC,mBACzBiC,OAAOD,iBAAiB,SAAS,WAC7B3C,UAAUC,YAAaI"}