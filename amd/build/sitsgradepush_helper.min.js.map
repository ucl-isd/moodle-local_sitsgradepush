{"version":3,"file":"sitsgradepush_helper.min.js","sources":["../src/sitsgradepush_helper.js"],"sourcesContent":["import Ajax from 'core/ajax';\n\n/**\n * Schedule a task to push grades to SITS.\n *\n * @param {int} assessmentmappingid The assessment mapping ID.\n * @return {Promise} Promise.\n */\nexport const schedulePushTask = async(assessmentmappingid) => {\n    return new Promise((resolve, reject) => {\n        Ajax.call([{\n            methodname: 'local_sitsgradepush_schedule_push_task',\n            args: {\n                'assessmentmappingid': assessmentmappingid,\n            },\n        }])[0].done(function(response) {\n            resolve(response);\n        }).fail(function(err) {\n            window.console.log(err);\n            reject(err);\n        });\n    });\n};\n\n/**\n * Map an assessment to a component grade.\n *\n * @param {int} courseid\n * @param {int} coursemoduleid\n * @param {int} mabid\n * @param {int|null} partid\n * @return {Promise}\n */\nexport const mapAssessment = async(courseid, coursemoduleid, mabid, partid = null) => {\n    return new Promise((resolve, reject) => {\n        Ajax.call([{\n            methodname: 'local_sitsgradepush_map_assessment',\n            args: {\n                'courseid': courseid,\n                'coursemoduleid': coursemoduleid,\n                'mabid': mabid,\n                'partid': partid,\n            },\n        }])[0].done(function(response) {\n            resolve(response);\n        }).fail(function(err) {\n            window.console.log(err);\n            reject(err);\n        });\n    });\n};\n\n/**\n * Get the latest information about the assessment mappings of a course.\n * For updating the dashboard page and activity marks transfer page.\n *\n * @param {int} courseid\n * @return {Promise<unknown>}\n */\nexport const getAssessmentsUpdate = async(courseid) => {\n    return new Promise((resolve, reject) => {\n        Ajax.call([{\n            methodname: 'local_sitsgradepush_get_assessments_update',\n            args: {\n                'courseid': courseid,\n            },\n        }])[0].done(function(response) {\n            resolve(response);\n        }).fail(function(err) {\n            window.console.log(err);\n            reject(err);\n        });\n    });\n};\n\n/**\n * Get the students information for a given assessment mapping.\n * For synchronous marks transfer.\n *\n * @param {int} assessmentmappingid\n * @return {Promise}\n */\nexport const getTransferStudents = (assessmentmappingid) => {\n    return new Promise((resolve, reject) => {\n        Ajax.call([{\n            methodname: 'local_sitsgradepush_get_transfer_students',\n            args: {'assessmentmappingid': assessmentmappingid},\n        }])[0].done(function(response) {\n            resolve(response);\n        }).fail(function(err) {\n            window.console.log(err);\n            reject(err);\n        });\n    });\n};\n\n/**\n * Transfer mark for a student.\n *\n * @param {int} assessmentmappingid\n * @param {int} userid\n * @return {Promise}\n */\nexport const transferMarkForStudent = (assessmentmappingid, userid) => {\n    return new Promise((resolve, reject) => {\n        Ajax.call([{\n            methodname: 'local_sitsgradepush_transfer_mark_for_student',\n            args: {\n                'assessmentmappingid': assessmentmappingid,\n                'userid': userid\n            },\n        }])[0].done(function(response) {\n            resolve(response);\n        }).fail(function(err) {\n            window.console.log(err);\n            reject(err);\n        });\n    });\n};\n"],"names":["async","Promise","resolve","reject","call","methodname","args","assessmentmappingid","done","response","fail","err","window","console","log","courseid","coursemoduleid","mabid","partid","userid"],"mappings":"qYAQgCA,MAAAA,qBACrB,IAAIC,SAAQ,CAACC,QAASC,wBACpBC,KAAK,CAAC,CACPC,WAAY,yCACZC,KAAM,qBACqBC,wBAE3B,GAAGC,MAAK,SAASC,UACjBP,QAAQO,aACTC,MAAK,SAASC,KACbC,OAAOC,QAAQC,IAAIH,KACnBR,OAAOQ,kCAcUX,eAAMe,SAAUC,eAAgBC,WAAOC,8DAAS,YAClE,IAAIjB,SAAQ,CAACC,QAASC,wBACpBC,KAAK,CAAC,CACPC,WAAY,qCACZC,KAAM,UACUS,wBACMC,qBACTC,aACCC,WAEd,GAAGV,MAAK,SAASC,UACjBP,QAAQO,aACTC,MAAK,SAASC,KACbC,OAAOC,QAAQC,IAAIH,KACnBR,OAAOQ,0CAYiBX,MAAAA,UACzB,IAAIC,SAAQ,CAACC,QAASC,wBACpBC,KAAK,CAAC,CACPC,WAAY,6CACZC,KAAM,UACUS,aAEhB,GAAGP,MAAK,SAASC,UACjBP,QAAQO,aACTC,MAAK,SAASC,KACbC,OAAOC,QAAQC,IAAIH,KACnBR,OAAOQ,wCAYiBJ,qBACzB,IAAIN,SAAQ,CAACC,QAASC,wBACpBC,KAAK,CAAC,CACPC,WAAY,4CACZC,KAAM,qBAAwBC,wBAC9B,GAAGC,MAAK,SAASC,UACjBP,QAAQO,aACTC,MAAK,SAASC,KACbC,OAAOC,QAAQC,IAAIH,KACnBR,OAAOQ,2CAYmB,CAACJ,oBAAqBY,SACjD,IAAIlB,SAAQ,CAACC,QAASC,wBACpBC,KAAK,CAAC,CACPC,WAAY,gDACZC,KAAM,qBACqBC,2BACbY,WAEd,GAAGX,MAAK,SAASC,UACjBP,QAAQO,aACTC,MAAK,SAASC,KACbC,OAAOC,QAAQC,IAAIH,KACnBR,OAAOQ"}